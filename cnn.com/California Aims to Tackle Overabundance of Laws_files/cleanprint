/*!
 * CleanPrint
 * http://www.formatdynamics.com
 * Copyright Format Dynamics, Inc.  All rights reserved, 
 * CleanPrint and Format Dynamics are registered trademarks
 * US Patent 7386791
 */
var FDCPLoader={vers:2,tmax:0,threshold:"50000",reporting:"true"=="true",mediaRoot:null,cssFiles:new Array(),cpjsServlet:null,cpfServlet:null,helpUrl:null,productName:"CleanPrint/Save",analytics:"true"=="true",pubKey:0,buttons:null,category:null,dynamic:false,name:null,logo:null,hint:null,page:"letter",headNode:document.getElementsByTagName("head")[0],articleUrl:window.location.href,articleId:null,isPfLink:false,load:function(){var f,l,d,k,g,c,e,b,j,a,h;a=new RegExp("url=[^&]+");if(a.test(window.location.search)){h=""+a.exec(window.location.search);FDCPLoader.articleUrl=decodeURIComponent(h.substring(4))}FDCPLoader.browserDetect.init();f=document.getElementsByTagName("body")[0];l=document.createElement("div");l.id="cpf-devices";f.appendChild(l);for(d=0;d<FDCPLoader.cssFiles.length;d++){k=FDCPLoader.cssFiles[d];c=k[0];g=document.createElement("link");g.type="text/css";g.rel="stylesheet";g.id="cpf_css_"+c;g.href=k[1];g.media=k[2];this.headNode.appendChild(g);e=document.createElement("span");e.setAttribute("id","cpf-device-"+c);e.setAttribute("class","cpf-device cleanprint-exclude");l.appendChild(e)}b=FDCPLoader.cpjsServlet+"?bn="+FDCPLoader.browserDetect.browser+"&bv="+FDCPLoader.browserDetect.version+"&fs="+(FDCPLoader.hasFlash()?"true":"false")+"&xdr="+(FDCPLoader.hasXdomain()?"true":"false")+"&cors="+(FDCPLoader.hasCors()?"true":"false");j=document.createElement("script");j.id="cpf_cpjs";j.src=b;j.type="text/javascript";this.headNode.appendChild(j)},hasFlash:function(){var d,h,c,a,b,f;d=false;if(navigator.plugins!=null&&navigator.plugins.length>0){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]){h=navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"";c=navigator.plugins["Shockwave Flash"+h].description.split(" ");a=c[2].split(".");d=a[0]>5?a[0]:-1}}if(!d){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");d=b.GetVariable("$version")}catch(g){}}if(!d){try{b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");d="6"}catch(g){}}if(d){f=d.match(/[\d]+/g);f.length=1;d=f.join(".")}return d&&d>0},hasXdomain:function(){try{new XDomainRequest().open("POST",FDCPLoader.cpfServlet);return true}catch(a){return false}},hasCors:function(){try{new XMLHttpRequest().open("POST",FDCPLoader.cpfServlet);return true}catch(a){return false}},browserDetect:{init:function(){this.browser=this.searchString(this.dataBrowser)||"Unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown version";this.OS=this.searchString(this.dataOS)||"Unknown OS"},searchString:function(d){var a,b,c;for(a=0;a<d.length;a++){b=d[a].string;c=d[a].prop;this.versionSearchString=d[a].versionSearch||d[a].identity;if(b){if(b.indexOf(d[a].subString)!=-1){return d[a].identity}}else{if(c){return d[a].identity}}}},searchVersion:function(b){var a=b.indexOf(this.versionSearchString);if(a==-1){return}return parseFloat(b.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Trident/7",identity:"Explorer",versionSearch:"rv"},{string:navigator.userAgent,subString:"OPR",identity:"Opera",versionSearch:"OPR"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"CriOS",identity:"Chrome",versionSearch:"CriOS"},{string:navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Silk",identity:"Silk"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"AppleWebKit",identity:"WebKit",versionSearch:"Version"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.userAgent,subString:"IEMobile",identity:"WinPhone"},{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"iPad",identity:"iOS"},{string:navigator.platform,subString:"iPhone",identity:"iOS"},{string:navigator.userAgent,subString:"Android",identity:"Android"},{string:navigator.userAgent,subString:"Silk",identity:"Android"},{string:navigator.userAgent,subString:"BB10",identity:"BlackBerry"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]},logMessage:function(i,b,a){try{if(i>=this.threshold){var g,c,h,f;c=(new Date).getTime();h=String(c++);g="action=logging";g+="&level="+i;g+="&vers="+this.vers;g+="&url="+encodeURIComponent(FDCPLoader.articleUrl);g+="&key="+encodeURIComponent(FDCPLoader.pubKey);g+="&cacheKill="+h;if(typeof b!="undefined"&&b!=null){g+="&msg="+encodeURIComponent(b)}if(typeof a!="undefined"&&a!=null){f=null;for(f in a){g+="&"+encodeURIComponent(f)+"="+encodeURIComponent(a[f])}}new Image().src=this.cpfServlet+"?"+g}if(b.indexOf("FD_IGNORE")!=-1){b=b.substr(10)}if(i>=40000){console.error(b)}else{if(i>=30000){console.warn(b)}else{if(i>=20000){console.info(b)}else{if(i>=10000){console.log(b)}}}}}catch(d){}},reportEvent:function(b,a,g){try{if(this.reporting){var f,c,h;c=(new Date).getTime();h=String(c++);f="action=reporting";f+="&event="+b;f+="&type="+a;f+="&key="+encodeURIComponent(FDCPLoader.pubKey);f+="&success="+g;f+="&url="+encodeURIComponent(window.location.href);f+="&cacheKill="+h;new Image().src=this.cpfServlet+"?"+f}}catch(d){}},onReady:function(d){var a,c,f=false;function b(){if(f){return}f=true;d()}if(document.getElementById("FDCPFBookmarklet")!=null){b()}if(document.addEventListener){document.addEventListener("DOMContentLoaded",b,false)}else{if(document.attachEvent){a=false;try{a=window.frameElement!=null}catch(g){}if(document.documentElement.doScroll&&!a){function h(){if(f){return}try{document.documentElement.doScroll("left");b()}catch(i){setTimeout(h,10)}}h()}}}if(window.addEventListener){window.addEventListener("load",b,false)}else{if(window.attachEvent){window.attachEvent("onload",b)}else{c=window.onload;window.onload=function(){c&&c();b()}}}setTimeout(b,8000)}};FDCPLoader.dynamic = true;
FDCPLoader.pubKey = 'cnn';
FDCPLoader.tmax = 60000;
FDCPLoader.mediaRoot = 'http://cache-02.cleanprint.net/media/';
FDCPLoader.cpfServlet = 'http://cpf.cleanprint.net/cpf/cpf';
FDCPLoader.cpjsServlet = 'http://cache-02.cleanprint.net/cpf/cpjs';
FDCPLoader.helpUrl = 'http://cache-02.cleanprint.net/cpf/help';
FDCPLoader.cssFiles = new Array(['viewbox','http://cache-02.cleanprint.net/media/pfviewer/css/viewbox.css','screen'],['phone','http://cache-02.cleanprint.net/media/pfviewer/css/phone.css','only screen and (max-device-width:480px), only screen and (max-device-height:480px)']);
FDCPLoader.onReady(function(){ FDCPLoader.load(); });